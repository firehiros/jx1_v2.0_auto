<Window x:Class="JX1Launcher.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        mc:Ignorable="d"
        Title="JX1 Auto v2.0 - Launcher"
        Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        ui:WindowHelper.UseModernWindowStyle="True">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Background="#1E1E1E" Height="60">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
                <TextBlock Text="JX1 Auto v2.0" FontSize="24" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text=" - Official Partnership Edition" FontSize="14" Foreground="#888" Margin="10,8,0,0"/>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <TabControl Grid.Row="1" Margin="10">
            <!-- Home Tab -->
            <TabItem Header="Home">
                <Grid Margin="20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Status -->
                    <GroupBox Header="Status" Grid.Row="0" Margin="0,0,0,10">
                        <StackPanel Margin="10">
                            <TextBlock x:Name="StatusText" Text="Ready to inject" FontSize="16" FontWeight="Bold"/>
                            <TextBlock x:Name="GameProcessText" Text="Game Process: Not found" Margin="0,5,0,0"/>
                            <TextBlock x:Name="DllStatusText" Text="DLL Status: Not injected" Margin="0,5,0,0"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Quick Actions -->
                    <GroupBox Header="Quick Actions" Grid.Row="1" Margin="0,0,0,10">
                        <StackPanel Margin="10">
                            <Button x:Name="InjectButton" Content="Inject DLL" Height="40" FontSize="16" Click="InjectButton_Click" Margin="0,0,0,10"/>
                            <Button x:Name="EjectButton" Content="Eject DLL" Height="40" FontSize="16" Click="EjectButton_Click" IsEnabled="False"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Bot Control -->
                    <GroupBox Header="Bot Control" Grid.Row="2">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                <TextBlock Text="Bot Mode:" FontWeight="Bold" Margin="0,0,0,10"/>
                                <RadioButton x:Name="RadioDisabled" Content="Disabled" GroupName="BotMode" IsChecked="True" Margin="0,5"/>
                                <RadioButton x:Name="RadioCombat" Content="Combat Only" GroupName="BotMode" Margin="0,5"/>
                                <RadioButton x:Name="RadioFarming" Content="Farming Mode" GroupName="BotMode" Margin="0,5"/>
                                <RadioButton x:Name="RadioQuesting" Content="Questing Mode" GroupName="BotMode" Margin="0,5"/>
                                <RadioButton x:Name="RadioCustom" Content="Custom" GroupName="BotMode" Margin="0,5"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Quick Settings:" FontWeight="Bold" Margin="0,0,0,10"/>
                                <CheckBox x:Name="ChkAutoCombat" Content="Auto Combat" Margin="0,5"/>
                                <CheckBox x:Name="ChkAutoLoot" Content="Auto Loot" Margin="0,5"/>
                                <CheckBox x:Name="ChkAutoHeal" Content="Auto Heal" Margin="0,5"/>
                                <CheckBox x:Name="ChkAutoMana" Content="Auto Mana" Margin="0,5"/>
                                <CheckBox x:Name="ChkESP" Content="Enable ESP" IsChecked="True" Margin="0,5"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>

                    <!-- Statistics -->
                    <GroupBox Header="Statistics" Grid.Row="3" Margin="0,10,0,0">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Monsters Killed:" Foreground="#888"/>
                                <TextBlock x:Name="TxtKills" Text="0" FontSize="20" FontWeight="Bold"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Items Looted:" Foreground="#888"/>
                                <TextBlock x:Name="TxtLooted" Text="0" FontSize="20" FontWeight="Bold"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Runtime:" Foreground="#888"/>
                                <TextBlock x:Name="TxtRuntime" Text="00:00:00" FontSize="20" FontWeight="Bold"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- Settings Tab -->
            <TabItem Header="Settings">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <GroupBox Header="Combat Settings" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <Label Content="Combat Range:"/>
                                <Slider x:Name="SliderCombatRange" Minimum="100" Maximum="1000" Value="500" TickFrequency="50" IsSnapToTickEnabled="True"/>
                                <TextBlock Text="{Binding ElementName=SliderCombatRange, Path=Value, StringFormat={}{0:F0} units}" HorizontalAlignment="Center"/>

                                <Label Content="Heal Threshold:" Margin="0,10,0,0"/>
                                <Slider x:Name="SliderHealThreshold" Minimum="10" Maximum="80" Value="40" TickFrequency="5" IsSnapToTickEnabled="True"/>
                                <TextBlock Text="{Binding ElementName=SliderHealThreshold, Path=Value, StringFormat={}{0:F0}%}" HorizontalAlignment="Center"/>

                                <Label Content="Flee Threshold:" Margin="0,10,0,0"/>
                                <Slider x:Name="SliderFleeThreshold" Minimum="5" Maximum="50" Value="15" TickFrequency="5" IsSnapToTickEnabled="True"/>
                                <TextBlock Text="{Binding ElementName=SliderFleeThreshold, Path=Value, StringFormat={}{0:F0}%}" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="ESP Settings" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <CheckBox Content="Show Monsters" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Show Players" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Show NPCs" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Show Items" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Show HP Bars" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Show Distance" IsChecked="True" Margin="0,5"/>

                                <Label Content="Max ESP Distance:" Margin="0,10,0,0"/>
                                <Slider x:Name="SliderESPDistance" Minimum="100" Maximum="1000" Value="500" TickFrequency="50" IsSnapToTickEnabled="True"/>
                                <TextBlock Text="{Binding ElementName=SliderESPDistance, Path=Value, StringFormat={}{0:F0} units}" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="Loot Settings" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <Label Content="Minimum Item Quality:"/>
                                <ComboBox x:Name="CmbLootQuality" SelectedIndex="1">
                                    <ComboBoxItem Content="Grey (Trash)"/>
                                    <ComboBoxItem Content="White (Common)"/>
                                    <ComboBoxItem Content="Blue (Rare)"/>
                                    <ComboBoxItem Content="Purple (Epic)"/>
                                    <ComboBoxItem Content="Gold (Legendary)"/>
                                </ComboBox>

                                <CheckBox Content="Loot Weapons" IsChecked="True" Margin="0,10,0,0"/>
                                <CheckBox Content="Loot Armor" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Loot Potions" IsChecked="True" Margin="0,5"/>
                                <CheckBox Content="Loot Materials" IsChecked="True" Margin="0,5"/>
                            </StackPanel>
                        </GroupBox>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                            <Button Content="Save Settings" Width="120" Height="35" Margin="0,0,10,0" Click="SaveSettings_Click"/>
                            <Button Content="Reset to Default" Width="120" Height="35" Click="ResetSettings_Click"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Profiles Tab -->
            <TabItem Header="Profiles">
                <Grid Margin="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Profile List -->
                    <GroupBox Header="Profiles" Grid.Column="0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <ListBox x:Name="ProfileListBox" Grid.Row="0" SelectionChanged="ProfileListBox_SelectionChanged"/>

                            <StackPanel Grid.Row="1" Margin="0,10,0,0">
                                <Button Content="New Profile" Click="NewProfile_Click" Margin="0,0,0,5"/>
                                <Button Content="Delete Profile" Click="DeleteProfile_Click"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>

                    <!-- Profile Editor -->
                    <GroupBox Header="Profile Settings" Grid.Column="1" Margin="10,0,0,0">
                        <StackPanel Margin="10">
                            <Label Content="Profile Name:"/>
                            <TextBox x:Name="TxtProfileName" Margin="0,0,0,10"/>

                            <Label Content="Description:"/>
                            <TextBox x:Name="TxtProfileDesc" Height="60" TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,10"/>

                            <Label Content="Bot Mode:"/>
                            <ComboBox x:Name="CmbProfileBotMode" Margin="0,0,0,10">
                                <ComboBoxItem Content="Disabled"/>
                                <ComboBoxItem Content="Combat Only"/>
                                <ComboBoxItem Content="Farming" IsSelected="True"/>
                                <ComboBoxItem Content="Questing"/>
                                <ComboBoxItem Content="Custom"/>
                            </ComboBox>

                            <Button Content="Save Profile" Width="120" Height="35" HorizontalAlignment="Left" Margin="0,20,0,0" Click="SaveProfile_Click"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- About Tab -->
            <TabItem Header="About">
                <StackPanel Margin="40" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="JX1 Auto v2.0" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center"/>
                    <TextBlock Text="Official Partnership Edition" FontSize="16" Foreground="#888" HorizontalAlignment="Center" Margin="0,5,0,20"/>

                    <Separator Margin="0,10"/>

                    <TextBlock Text="Advanced automation tool for Võ Lâm Truyền Kỳ 1" HorizontalAlignment="Center" Margin="0,10"/>
                    <TextBlock Text="Created with official publisher partnership" HorizontalAlignment="Center" Margin="0,5"/>

                    <Separator Margin="0,20"/>

                    <TextBlock Text="Technology Stack:" FontWeight="Bold" Margin="0,10"/>
                    <TextBlock Text="• C++17 Core DLL" Margin="20,5"/>
                    <TextBlock Text="• DirectX 9 Hook" Margin="20,0"/>
                    <TextBlock Text="• ImGui Overlay" Margin="20,0"/>
                    <TextBlock Text="• MinHook Function Hooking" Margin="20,0"/>
                    <TextBlock Text="• .NET 7 WPF Launcher" Margin="20,0"/>

                    <Separator Margin="0,20"/>

                    <TextBlock Text="Version: 2.0.0" HorizontalAlignment="Center" Margin="0,10"/>
                    <TextBlock Text="Build Date: 2025-10-15" HorizontalAlignment="Center" Margin="0,5"/>

                    <Separator Margin="0,20"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
                        <Button Content="View Documentation" Width="150" Height="35" Margin="0,0,10,0"/>
                        <Button Content="Check for Updates" Width="150" Height="35"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Footer Status Bar -->
        <StatusBar Grid.Row="2" Height="30">
            <StatusBarItem>
                <TextBlock x:Name="StatusBarText" Text="Ready"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock x:Name="StatusBarVersion" Text="v2.0.0"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
